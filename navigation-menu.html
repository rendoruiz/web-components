<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NavigationMenu</title>

  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --brand-color: rgb(47, 179, 255);
    }
    

    body {
      min-height: 120vh;
      display: grid;
      grid-template-rows: auto 1fr auto;
      
      background-color: orange;
      font-family: sans-serif;
    }

    .container {
      min-width: 300px;
      max-width: 900px;
    }

    header {
      background-color: var(--brand-color);
      color: white;
      position: sticky;
      top: 0;
      width: 100%;
    }

    header .container {
      display: flex;
      justify-content: space-between;
      align-items: stretch;
    }

    .nav-btn {
      margin: 5px;
      width: 30px;
      height: 30px;
      display: grid;
      place-items: center;
      border-radius: 4px;
      font-weight: bold;
      font-size: 14px;
    }
    .branding {
      background: turquoise;
    }
    .main-nav {
      display: none;
    }




    /* NAVIGATION MENU CSS COMPONENTS START */
    :root {
      --nav-overlay-background-rgb: 10, 10, 10;
      --nav-list-background: var(--brand-color);
      --nav-list-foreground: white;
    }

    body[data-nav-status="active"] {
      overflow: hidden;
    }
    
    [data-nav-toggle] {
      cursor: pointer;
    }

    [data-nav-id] {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      display: flex;
      justify-content: flex-end;

      animation-duration: 0.40s;
      animation-fill-mode: both;
    }
    [data-nav-id]:not([data-nav-status]) {
      display: none;
    }
    body[data-nav-status="active"] [data-nav-id][data-nav-status="active"] {
      /* z-index: 100; */
      animation-name: nav-overlay-active;
    }
    body[data-nav-status="closed"] [data-nav-id][data-nav-status="closed"] {
      animation-name: nav-overlay-closed;
      /* z-index: -100; */
    }
    @keyframes nav-overlay-active {
      from {
        z-index: 100;
        background-color: rgba(var(--nav-overlay-background-rgb), 0);
      }
      95% {
        background-color: rgba(var(--nav-overlay-background-rgb), 0.8);
      }
      to {
        z-index: 100;
        background-color: rgba(var(--nav-overlay-background-rgb), 0.8);
      }
    }
    @keyframes nav-overlay-closed {
      from {
        background-color: rgba(var(--nav-overlay-background-rgb), 0.8);
      }
      95% {
        background-color: rgba(var(--nav-overlay-background-rgb), 0);
      }
      to {
        z-index: -100;
        background-color: rgba(var(--nav-overlay-background-rgb), 0);
      }
    }

    [data-nav-id] ul {
      list-style: none;
      width: min(210px, 80vw);
      display: flex;
      flex-direction: column;
      color: var(--nav-list-foreground);
      background-color: var(--nav-list-background);

      animation-duration: 0.35s;
      animation-fill-mode: both;
    }
    [data-nav-id] ul > li {
      display: grid;
    }
    [data-nav-id] ul > li > a {
      padding: 15px 20px;
      text-decoration: none;
      color: inherit;
    }
    body[data-nav-status="active"] [data-nav-id][data-nav-status="active"] ul {
      animation-name: nav-list-active;
    }
    body[data-nav-status="closed"] [data-nav-id][data-nav-status="closed"] ul {
      animation-name: nav-list-closed;
    }
    @keyframes nav-list-active {
      from {
        transform: translateX(120%);
      }
      to {
        transform: translateX(0);
      }
    }
    @keyframes nav-list-closed {
      from {
        transform: translateX(0);
      }
      to {
        transform: translateX(120%);
      }
    }
    /* NAVIGATION MENU CSS COMPONENTS END */


    @media (min-width: 768px) {
      .nav-toggle {
        display: none;
      }
      .main-nav {
        display: grid;
        margin-right: 10px;
      }
      .main-nav ul {
        list-style: none;
        display: grid;
        grid-auto-flow: column;
        gap: 5px;
      }
      .main-nav li {
        display: grid;
      }
      .main-nav a,
      .main-nav a:visited {
        text-decoration: none;
        display: grid;
        place-items: center;
        padding: 0 15px;
        margin: 5px 0;
        border-radius: 4px;
        color: white;
        transition: all 0.15s ease-in-out;
      }
      .main-nav a:hover,
      .main-nav a:active {
        color: var(--brand-color);
        background: white;
      }
      .main-nav a:active {
        transform: scale(0.95);
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="branding nav-btn">R</div>
      <nav data-nav-id="nav1" class="main-nav">
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Projects</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
      <span data-nav-toggle="nav1" class="nav-toggle nav-btn">&#9776;</span>
    </div>
  </header>
  <main>
    <div class="container">
      <br>
      <span data-nav-toggle="nav1">[CLICK TO TOGGLE NAVIGATION]</span>
      <br><br>
      <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum dolores labore sit earum quas dolore optio quo asperiores consectetur commodi, nihil omnis hic eius minus vero nesciunt, animi, ipsa dolorem quia voluptas? Architecto temporibus voluptate aliquam perferendis amet corporis quia harum, alias fuga nulla similique eos maxime! Omnis ut quis autem, nesciunt numquam ipsam repellendus nobis vero! Dignissimos possimus placeat hic sequi quas quibusdam molestias autem voluptatem, ipsam tempora neque quam perspiciatis optio iusto! Qui voluptatem voluptatibus maiores quibusdam, doloribus mollitia esse, dolore voluptatum non laboriosam repellendus. Quod harum omnis aut voluptatibus amet, veritatis hic in dignissimos minus asperiores facere.</p>
    </div>
  </main>

  <script>
    // go through all instances of nav menus
    document.querySelectorAll('[data-nav-id]').forEach((menu) => {
      const navId = menu.dataset.navId;
      const navigationToggleButtons = document.querySelectorAll(`[data-nav-toggle="${navId}"]`);

      // check if toggle exists for nav menu
      if (navigationToggleButtons.length === 0) {
        document.error(`No toggle found for nav-id: ${navId}. Create a toggle by creating an element with property: data-nav-toggle="${navId}"`);
      }
      else {
        const navigationMenu = menu.cloneNode(true);
        const documentBody = document.querySelector('body');
        // append to document body and remove attribute to initialized element
        navigationMenu.removeAttribute('class');
        documentBody.append(navigationMenu);
        menu.removeAttribute('data-nav-id');

        // close if overlay is clicked
        navigationMenu.addEventListener('click', (e) => {
          e.preventDefault();
          if (e.target === navigationMenu) {
            closeNavigation(documentBody, navigationMenu);
          }
        });

        navigationToggleButtons.forEach((navigationToggle) => {
          navigationToggle.addEventListener('click', (e) => {
            e.preventDefault();
            if (navigationToggle.dataset.navStatus === 'active') {
              // close if open
              closeNavigation(documentBody, navigationMenu);
            }
            else {
              // open if close
              openNavigation(documentBody, navigationMenu);
            }
          });
        });
      }
    });

    const openNavigation = (body, navMenu) => {
      body.dataset.navStatus = 'active';
      navMenu.dataset.navStatus = 'active';
    }

    const closeNavigation = (body, navMenu) => {
      body.dataset.navStatus = 'closed';
      navMenu.dataset.navStatus = 'closed';
    }
  </script>
</body>
</html>