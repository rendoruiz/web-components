<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NavigationMenu</title>

  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --brand-color: rgb(47, 179, 255);
    }
    

    body {
      min-height: 100vh;
      display: grid;
      grid-template-rows: auto 1fr auto;
      
      background-color: orange;

      position: relative;
    }

    .container {
      min-width: 300px;
      max-width: 900px;
    }

    header {
      background-color: var(--brand-color);
    }






    [data-nav-toggle] {
      cursor: pointer;
    }

    :root {
      --nav-overlay-background-rgb: 10, 10, 10;
    }

    [data-nav-id] {
      position: fixed;
      z-index: -100;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      display: flex;
      justify-content: flex-end;

      animation-duration: 0.40s;
      animation-fill-mode: both;
    }
    body[data-nav-status="active"] [data-nav-id][data-nav-status="active"] {
      z-index: 100;
      animation-name: nav-overlay-active;
    }
    body[data-nav-status="closed"] [data-nav-id][data-nav-status="closed"] {
      animation-name: nav-overlay-closed;
      /* z-index: -100; */
    }
    @keyframes nav-overlay-active {
      from {
        background-color: rgba(var(--nav-overlay-background-rgb), 0);
      }
      to {
        background-color: rgba(var(--nav-overlay-background-rgb), 0.8);
      }
    }
    @keyframes nav-overlay-closed {
      from {
        background-color: rgba(var(--nav-overlay-background-rgb), 0.8);
      }
      to {
        background-color: rgba(var(--nav-overlay-background-rgb), 0);
      }
    }


    body[data-nav-status="active"] [data-nav-id] ul {
      animation-duration: 0.30s;
      animation-fill-mode: both;
    }
    body[data-nav-status="active"] [data-nav-id][data-nav-status="active"] ul {
      width: 70%;
      background-color: var(--brand-color);
      list-style: none;
      display: flex;
      flex-direction: column;
      animation-name: nav-list-active;
    }
    body[data-nav-status="closed"] [data-nav-id][data-nav-status="closed"] ul {
      animation-name: nav-list-closed;
    }
    @keyframes nav-list-active {
      from {
        transform: translateX(100%);
      }
      to {
        transform: unset;
      }
    }
    @keyframes nav-list-closed {
      from {
        transform: unset;
      }
      to {
        transform: translateX(100%);
      }
    }


    body[data-nav-status="active"] [data-nav-id][data-nav-status="active"] ul > li {
      display: grid;
    }

    body[data-nav-status="active"] [data-nav-id][data-nav-status="active"] ul > li > a {
      padding: 15px 20px;
      text-decoration: none;
    }

    @media (max-width: 768px) {
      
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="branding">R</div>
      <nav data-nav-id="main-nav" class="main-nav">
        <ul>
          <li><a href="#">Home</a></li>
          <li><a href="#">About</a></li>
          <li><a href="#">Projects</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>
      <span data-nav-toggle="main-nav" class="nav-toggle">&#9776;</span>
    </div>
  </header>
  <main>
    <div class="container">
      <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum dolores labore sit earum quas dolore optio quo asperiores consectetur commodi, nihil omnis hic eius minus vero nesciunt, animi, ipsa dolorem quia voluptas? Architecto temporibus voluptate aliquam perferendis amet corporis quia harum, alias fuga nulla similique eos maxime! Omnis ut quis autem, nesciunt numquam ipsam repellendus nobis vero! Dignissimos possimus placeat hic sequi quas quibusdam molestias autem voluptatem, ipsam tempora neque quam perspiciatis optio iusto! Qui voluptatem voluptatibus maiores quibusdam, doloribus mollitia esse, dolore voluptatum non laboriosam repellendus. Quod harum omnis aut voluptatibus amet, veritatis hic in dignissimos minus asperiores facere.</span>
    </div>
  </main>

  <script>
    document.querySelectorAll('[data-nav-id]').forEach((menu) => {
      const navId = menu.dataset.navId;
      const navigationToggle = document.querySelector(`[data-nav-toggle="${navId}"]`);
      if (!navigationToggle) {
        document.error(`No toggle found for nav-id: ${navId}. Create a toggle by creating an element with property: data-nav-toggle="${navId}"`);
      }
      else {
        const navigationMenu = menu.cloneNode(true);
        const documentBody = document.querySelector('body');
        // append to document body and remove attribute to initialized element
        navigationMenu.removeAttribute('class');
        documentBody.append(navigationMenu);
        menu.removeAttribute('data-nav-id');

        // debug
        documentBody.dataset.navStatus = 'active';
            navigationMenu.dataset.navStatus = 'active';
        
        
        navigationToggle.addEventListener('click', (e) => {
          if (navigationToggle.dataset.navStatus === 'active') {
            // close if open
            documentBody.dataset.navStatus = 'closed';
            navigationMenu.dataset.navStatus = 'closed';
          }
          else {
            // open if close
            documentBody.dataset.navStatus = 'active';
            navigationMenu.dataset.navStatus = 'active';
          }
        });

        navigationMenu.addEventListener('click', (e) => {
          if (e.target === navigationMenu) {
            documentBody.dataset.navStatus = 'closed';
            navigationMenu.dataset.navStatus = 'closed';
          }
        })
        
      }
    })
  </script>
</body>
</html>